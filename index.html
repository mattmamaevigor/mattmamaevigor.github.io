<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Core 1.0 Ultimate SHOW</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Determination Mono', monospace; }
body { background:#111; color:#fff; overflow:hidden; }
h1,h2,h3,h4,h5,h6 { font-family:'Determination Mono', monospace; }

/* Глитч-текст */
.glitch-text { position: relative; color: white; font-size: 3em; animation: flicker 1s infinite; }
.glitch-text::before, .glitch-text::after { content: attr(data-text); position: absolute; left: 0; top: 0; width: 100%; overflow: hidden; }
.glitch-text::before { left: 2px; text-shadow: -2px 0 red; clip: rect(0,900px,0,0); animation: glitchTop 2s infinite linear alternate-reverse; }
.glitch-text::after { left: -2px; text-shadow: -2px 0 blue; clip: rect(0,900px,0,0); animation: glitchBottom 3s infinite linear alternate-reverse; }
@keyframes flicker { 0%,19%,21%,23%,25%,54%,56%,100%{opacity:1;} 20%,22%,24%,55%{opacity:0;} }
@keyframes glitchTop {0%{clip:rect(0,9999px,0,0);transform:translate(0,0);}20%{clip:rect(0,9999px,10px,0);transform:translate(-2px,-2px);}40%{clip:rect(5px,9999px,15px,0);transform:translate(2px,2px);}60%{clip:rect(10px,9999px,20px,0);transform:translate(-2px,2px);}80%{clip:rect(15px,9999px,25px,0);transform:translate(2px,-2px);}100%{clip:rect(0,9999px,0,0);transform:translate(0,0);} }
@keyframes glitchBottom {0%{clip:rect(0,9999px,0,0);transform:translate(0,0);}20%{clip:rect(5px,9999px,15px,0);transform:translate(1px,1px);}40%{clip:rect(10px,9999px,20px,0);transform:translate(-1px,-1px);}60%{clip:rect(0,9999px,10px,0);transform:translate(1px,-1px);}80%{clip:rect(5px,9999px,15px,0);transform:translate(-1px,1px);}100%{clip:rect(0,9999px,0,0);transform:translate(0,0);} }

/* Глифы Гастера */
.gaster-glyph { position: absolute; font-size: 1.5em; color: #fff; animation: float 5s infinite ease-in-out, spin 4s infinite linear; opacity:0.7; }
@keyframes float {0%,100%{transform:translateY(0);}50%{transform:translateY(-20px);}}
@keyframes spin {0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}

/* Модальное окно тарифа */
.tariff-modal { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); display:flex; justify-content:center; align-items:center; z-index:1000; }
.tariff-content { background:#222; padding:30px; border-radius:15px; width:90%; max-width:600px; box-shadow:0 0 20px #4ecdc4; text-align:center; animation: modalFade 0.5s ease-out; }
@keyframes modalFade {0%{opacity:0; transform:scale(0.5);}100%{opacity:1; transform:scale(1);}}
.tariff-option { background:#333; padding:15px; margin:10px 0; border-radius:10px; cursor:pointer; transition:0.3s; }
.tariff-option:hover { background:#4ecdc4; color:#111; transform:scale(1.05);}
.tariff-option.selected { border:2px solid #fff; box-shadow:0 0 10px #fff; }
.btn { background:#4ecdc4; color:#111; padding:10px 20px; border:none; border-radius:8px; cursor:pointer; margin:5px; font-weight:bold; transition:0.3s; }
.btn:hover { background:#fff; color:#4ecdc4; transform:scale(1.05); }

/* Панель генерации */
#aiPanel { margin-top:30px; display:flex; flex-direction:column; align-items:center; }
#aiInput { width:80%; max-width:600px; padding:10px; background:#222; color:#fff; border:1px solid #4ecdc4; border-radius:8px; font-family:'Determination Mono', monospace; }
#aiOutput { margin-top:20px; width:80%; max-width:600px; min-height:100px; background:#111; border:1px solid #4ecdc4; border-radius:8px; padding:15px; white-space:pre-wrap; font-family:'Determination Mono', monospace; }

/* Пасхалки */
.hidden-easter { display:none; color:#ff00ff; font-weight:bold; font-size:1.2em; animation: blink 1s infinite; }
@keyframes blink {0%,100%{opacity:1;}50%{opacity:0;}}
</style>
</head>
<body>
<!-- Глифы Гастера -->
<div class="gaster-glyph" style="top:10%; left:5%;">✡</div>
<div class="gaster-glyph" style="top:20%; left:90%;">❄</div>
<div class="gaster-glyph" style="top:40%; left:15%;">⌖</div>
<div class="gaster-glyph" style="top:60%; left:80%;">⯊</div>
<div class="gaster-glyph" style="top:80%; left:10%;">⛦</div>
<div class="gaster-glyph" style="top:30%; left:75%;">❍</div>

<!-- Модальное окно тарифа -->
<div class="tariff-modal" id="tariffModal">
    <div class="tariff-content">
        <h2 class="glitch-text" data-text="ВЫБЕРИТЕ ДОСТУП">ВЫБЕРИТЕ ДОСТУП</h2>
        <div class="tariff-options">
            <div class="tariff-option" data-tier="basic">
                <h3>BASIC</h3><p>10 вопросов</p>
            </div>
            <div class="tariff-option" data-tier="tester">
                <h3>TESTER</h3><p>Безлимит</p>
            </div>
            <div class="tariff-option" data-tier="developer">
                <h3>DEVELOPER</h3><p>Код доступа</p>
                <input type="text" id="devCodeInput" placeholder="Введите код" style="display:none;">
            </div>
        </div>
        <button class="btn" id="selectTariffBtn">ПОДТВЕРДИТЬ</button>
    </div>
</div>

<!-- Основной контейнер -->
<div id="mainContainer" style="display:none; text-align:center; padding-top:30px;">
    <h1 class="glitch-text" data-text="CORE 1.0">CORE 1.0</h1>
    <div id="aiPanel">
        <textarea id="aiInput" placeholder="Введите свой вопрос..."></textarea>
        <div>
            <button class="btn" id="generateBtn">Сгенерировать</button>
            <button class="btn" id="copyBtn">Копировать</button>
        </div>
        <pre id="aiOutput"></pre>
        <div class="hidden-easter" id="easterGaster">ГЛИФЫ АКТИВИРОВАНЫ!</div>
        <p id="questionCounter"></p>
    </div>
</div>

<script>
const devCode = "070217";
let currentTier = "";
let questionCount = 0;
const maxQuestions = 10; // для BASIC
const hfToken = "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";

document.querySelectorAll('.tariff-option').forEach(opt=>{
    opt.addEventListener('click',()=>{
        document.querySelectorAll('.tariff-option').forEach(o=>o.classList.remove('selected'));
        opt.classList.add('selected');
        if(opt.dataset.tier==='developer'){document.getElementById('devCodeInput').style.display='block';}
        else{document.getElementById('devCodeInput').style.display='none';}
    });
});

document.getElementById('selectTariffBtn').addEventListener('click',()=>{
    const selected = document.querySelector('.tariff-option.selected');
    if(!selected){alert('Выберите тариф'); return;}
    const tier = selected.dataset.tier;
    if(tier==='developer'){
        const code = document.getElementById('devCodeInput').value;
        if(code===devCode){activate(tier);}else{alert('Неверный код'); return;}
    }else{activate(tier);}
});

function activate(tier){
    currentTier=tier;
    document.getElementById('tariffModal').style.display='none';
    document.getElementById('mainContainer').style.display='block';
    updateCounter();
    alert('Тариф активирован: '+tier.toUpperCase());
}

function updateCounter(){
    if(currentTier==='basic'){document.getElementById('questionCounter').textContent=`Вопросы: ${questionCount}/${maxQuestions}`;}
    else{document.getElementById('questionCounter').textContent=`Вопросы: ∞`;}
}

// Супер-шоу генерация текста
async function superGenerate(prompt){
    document.getElementById('aiOutput').textContent='';
    const output = document.getElementById('aiOutput');
    output.style.color='#4ecdc4';
    // Начало глитч-шоу
    let glitch = '';
    for(let i=0;i<10;i++){
        glitch = '';
        for(let j=0;j<30;j++){ glitch += String.fromCharCode(33+Math.floor(Math.random()*94)); }
        output.textContent = glitch;
        await new Promise(r=>setTimeout(r,50));
    }

    // HF API
    try{
        const response = await fetch('https://api-inference.huggingface.co/models/gpt2',{
            method:'POST',
            headers:{'Authorization':'Bearer '+hfToken,'Content-Type':'application/json'},
            body: JSON.stringify({inputs:prompt})
        });
        const data = await response.json();
        let text = data[0].generated_text || JSON.stringify(data);
        // Появление текста по буквам (анимация)
        output.textContent='';
        for(let c of text){
            output.textContent += c;
            await new Promise(r=>setTimeout(r,30));
        }
        output.style.color='#fff';
    }catch(e){output.textContent='Ошибка генерации: '+e;}
}

// Кнопка генерации
document.getElementById('generateBtn').addEventListener('click', async ()=>{
    if(currentTier==='basic' && questionCount>=maxQuestions){alert('Лимит вопросов исчерпан!'); return;}
    const prompt = document.getElementById('aiInput').value.trim();
    if(!prompt) return;
    questionCount++;
    updateCounter();
    await superGenerate(prompt);
});

// Кнопка копирования
document.getElementById('copyBtn').addEventListener('click',()=>{
    const output = document.getElementById('aiOutput').textContent;
    navigator.clipboard.writeText(output).then(()=>alert('Скопировано!'));
});

// Пасхалка Гастера
document.getElementById('aiInput').addEventListener('input',()=>{
    if(document.getElementById('aiInput').value.toLowerCase().includes('gaster')){
        document.getElementById('easterGaster').style.display='block';
    }else{document.getElementById('easterGaster').style.display='none';}
});
</script>
</body>
</html>
