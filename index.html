<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CORE ‚óØ AI - –ù–ï–ô–†–û–Ø–î–†–û</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/brain.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        :root {
            --primary-color: #ffffff;
            --bg-color: #000000;
            --glitch-color-1: #ff00ff;
            --glitch-color-2: #00ffff;
            --error-color: #ff0000;
            --neural-color: #00ff00;
            --synapse-color: #ffff00;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            background: var(--bg-color);
            color: var(--primary-color);
            font-family: 'Orbitron', monospace;
            overflow-x: hidden;
            cursor: none;
            min-height: 100vh;
            position: relative;
            user-select: none;
        }
        
        .cursor {
            width: 15px;
            height: 15px;
            background: var(--primary-color);
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
            transition: all 0.1s ease;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }
        
        .navigation {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .nav-item {
            display: block;
            color: var(--primary-color);
            text-decoration: none;
            padding: 8px 12px;
            border: 1px solid var(--primary-color);
            background: transparent;
            transition: all 0.3s;
            cursor: pointer;
            font-size: 0.8em;
            text-align: center;
            min-width: 100px;
        }
        
        .nav-item:hover {
            background: var(--primary-color);
            color: var(--bg-color);
        }
        
        .glitch-button {
            animation: glitch-nav 3s infinite;
        }
        
        @keyframes glitch-nav {
            0%, 90%, 100% { transform: translate(0); }
            5% { transform: translate(-1px, -1px); }
            10% { transform: translate(1px, 1px); }
        }
        
        .main-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            padding: 20px;
        }
        
        .gaster-title {
            font-size: 2.5em;
            font-weight: 900;
            letter-spacing: 8px;
            margin-bottom: 20px;
            position: relative;
            animation: title-pulse 4s infinite;
        }
        
        @keyframes title-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; text-shadow: 0 0 20px var(--neural-color); }
        }
        
        .page-content {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-color);
            z-index: 50;
            padding: 80px 20px 20px 150px;
            overflow-y: auto;
        }
        
        .page-content.active {
            display: block;
            animation: page-appear 0.5s ease-out;
        }
        
        @keyframes page-appear {
            0% { opacity: 0; transform: translateX(100px); }
            100% { opacity: 1; transform: translateX(0); }
        }
        
        .close-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s;
        }
        
        .close-button:hover {
            background: var(--primary-color);
            color: var(--bg-color);
        }
        
        .page-title {
            font-size: 2em;
            font-weight: 900;
            margin-bottom: 30px;
            animation: title-glitch 5s infinite;
        }
        
        @keyframes title-glitch {
            0%, 95%, 100% { transform: translate(0); }
            2% { transform: translate(-1px, 1px); }
            4% { transform: translate(1px, -1px); }
        }
        
        .neural-network-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .neural-visualization {
            border: 2px solid var(--primary-color);
            background: rgba(255, 255, 255, 0.02);
            padding: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .network-canvas {
            width: 100%;
            height: 400px;
            border: 1px solid var(--neural-color);
            background: rgba(0, 255, 0, 0.05);
        }
        
        .neural-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        .neural-button {
            background: transparent;
            border: 2px solid var(--neural-color);
            color: var(--neural-color);
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Orbitron', monospace;
        }
        
        .neural-button:hover {
            background: var(--neural-color);
            color: var(--bg-color);
        }
        
        .neural-status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .status-panel {
            border: 1px solid var(--primary-color);
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .status-value {
            font-size: 1.2em;
            color: var(--neural-color);
            font-weight: bold;
        }
        
        .ai-chat-container {
            border: 2px solid var(--primary-color);
            background: rgba(255, 255, 255, 0.02);
            height: 500px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-header {
            background: rgba(0, 255, 0, 0.1);
            padding: 15px;
            border-bottom: 1px solid var(--neural-color);
            text-align: center;
            font-weight: bold;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .message {
            padding: 12px;
            border-radius: 0;
            max-width: 80%;
            word-wrap: break-word;
        }
        
        .user-message {
            background: rgba(255, 255, 255, 0.1);
            align-self: flex-end;
            border-left: 3px solid var(--primary-color);
        }
        
        .ai-message {
            background: rgba(0, 255, 0, 0.1);
            align-self: flex-start;
            border-left: 3px solid var(--neural-color);
            animation: message-glow 3s infinite;
        }
        
        @keyframes message-glow {
            0%, 100% { box-shadow: none; }
            50% { box-shadow: 0 0 10px rgba(0, 255, 0, 0.3); }
        }
        
        .chat-input-container {
            display: flex;
            padding: 15px;
            border-top: 1px solid var(--primary-color);
            gap: 10px;
        }
        
        .chat-input {
            flex: 1;
            background: transparent;
            border: 1px solid var(--neural-color);
            color: var(--primary-color);
            padding: 12px;
            font-family: 'Orbitron', monospace;
        }
        
        .chat-input:focus {
            outline: none;
            box-shadow: 0 0 10px var(--neural-color);
        }
        
        .send-button {
            background: transparent;
            border: 2px solid var(--neural-color);
            color: var(--neural-color);
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .send-button:hover {
            background: var(--neural-color);
            color: var(--bg-color);
        }
        
        .training-data {
            border: 1px solid var(--glitch-color-1);
            background: rgba(255, 0, 255, 0.05);
            padding: 20px;
            margin: 20px 0;
        }
        
        .data-entry {
            display: flex;
            gap: 10px;
            margin: 10px 0;
            align-items: center;
        }
        
        .data-input {
            flex: 1;
            background: transparent;
            border: 1px solid var(--glitch-color-1);
            color: var(--primary-color);
            padding: 8px;
            font-family: 'Orbitron', monospace;
        }
        
        .scramble {
            animation: text-scramble 2s infinite;
        }
        
        @keyframes text-scramble {
            0%, 80%, 100% { opacity: 1; }
            10%, 70% { opacity: 0.7; transform: translateX(1px); }
        }
        
        .glitch-word {
            animation: word-glitch 4s infinite;
        }
        
        @keyframes word-glitch {
            0%, 90%, 100% { transform: translate(0); }
            5% { transform: translate(-1px, 0); }
            10% { transform: translate(1px, 1px); }
        }

        .neuron {
            position: absolute;
            width: 12px;
            height: 12px;
            background: var(--neural-color);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--neural-color);
            transition: all 0.3s;
        }
        
        .neuron.active {
            background: var(--synapse-color);
            box-shadow: 0 0 20px var(--synapse-color);
            transform: scale(1.5);
        }
        
        .synapse {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, 
                var(--neural-color) 0%, 
                transparent 50%, 
                var(--neural-color) 100%);
            opacity: 0.6;
            transform-origin: left center;
        }
        
        .synapse.active {
            background: var(--synapse-color);
            opacity: 1;
            animation: synapse-pulse 1s ease-in-out;
        }
        
        @keyframes synapse-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .training-progress {
            margin: 15px 0;
            border: 1px solid var(--neural-color);
            height: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--neural-color);
            width: 0%;
            transition: width 0.3s;
        }
        
        .training-stats {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .page-content {
                padding: 60px 15px 15px 15px;
            }
            
            .gaster-title {
                font-size: 1.8em;
                letter-spacing: 4px;
            }
            
            .neural-controls {
                flex-direction: column;
            }
            
            .neural-status {
                grid-template-columns: 1fr;
            }
            
            .navigation {
                position: relative;
                top: auto;
                left: auto;
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
                gap: 5px;
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="cursor"></div>
    
    <nav class="navigation">
        <a href="#" class="nav-item glitch-button" data-page="neural">–ù–ï–ô–†–û–Ø–î–†–û</a>
        <a href="#" class="nav-item" data-page="training">–û–ë–£–ß–ï–ù–ò–ï</a>
        <a href="#" class="nav-item glitch-button" data-page="chat">–ò–ò-–î–ò–ê–õ–û–ì</a>
        <a href="#" class="nav-item" data-page="analysis">–ê–ù–ê–õ–ò–ó</a>
    </nav>
    
    <div class="main-container" id="mainContent">
        <h1 class="gaster-title">‚óØ –ù–ï–ô–†–û–Ø–î–†–û GASTER ‚óØ</h1>
        <div style="font-size: 1.2em; margin: 20px 0;">
            <span class="scramble">–ê–ö–¢–ò–í–ê–¶–ò–Ø –ù–ï–ô–†–û–ù–ù–û–ô –°–ï–¢–ò...</span>
        </div>
        <div style="font-size: 1em; margin: 15px 0;">
            <span class="glitch-word">–°–∞–º–æ–æ–±—É—á–∞—é—â–∞—è—Å—è</span> —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—é
        </div>
        <div style="margin-top: 30px; font-size: 0.9em; opacity: 0.7;">
            <div>üìç –ê–î–†–ï–° –°–ò–°–¢–ï–ú–´: mattmamaevigor.github.io</div>
            <div>üîÑ –°–¢–ê–¢–£–°: –û–ù–õ–ê–ô–ù 24/7</div>
        </div>
    </div>
    
    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ -->
    <div class="page-content" id="neuralPage">
        <button class="close-button" onclick="closePage()">√ó</button>
        <h2 class="page-title">‚óØ –ù–ï–ô–†–û–ù–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê ‚óØ</h2>
        
        <div class="neural-network-container">
            <div class="neural-visualization">
                <h3>–í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø –ù–ï–ô–†–û–°–ï–¢–ò</h3>
                <canvas class="network-canvas" id="networkCanvas" width="800" height="400"></canvas>
                
                <div class="neural-controls">
                    <button class="neural-button" onclick="initializeNetwork()">–ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø</button>
                    <button class="neural-button" onclick="activateNeurons()">–ê–ö–¢–ò–í–ê–¶–ò–Ø</button>
                    <button class="neural-button" onclick="simulateThinking()">–û–ë–†–ê–ë–û–¢–ö–ê</button>
                    <button class="neural-button" onclick="resetNetwork()">–°–ë–†–û–°</button>
                    <button class="neural-button" onclick="exportNetwork()">–≠–ö–°–ü–û–†–¢</button>
                </div>
            </div>
            
            <div class="neural-status">
                <div class="status-panel">
                    <div>–ù–µ–π—Ä–æ–Ω–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ:</div>
                    <div class="status-value" id="activeNeurons">0</div>
                </div>
                <div class="status-panel">
                    <div>–°–∏–Ω–∞–ø—Å–æ–≤:</div>
                    <div class="status-value" id="synapseCount">0</div>
                </div>
                <div class="status-panel">
                    <div>–¶–∏–∫–ª–æ–≤ –æ–±—É—á–µ–Ω–∏—è:</div>
                    <div class="status-value" id="learningCycles">0</div>
                </div>
                <div class="status-panel">
                    <div>–¢–æ—á–Ω–æ—Å—Ç—å:</div>
                    <div class="status-value" id="accuracy">0%</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±—É—á–µ–Ω–∏—è -->
    <div class="page-content" id="trainingPage">
        <button class="close-button" onclick="closePage()">√ó</button>
        <h2 class="page-title">‚óØ –û–ë–£–ß–ï–ù–ò–ï –ù–ï–ô–†–û–°–ï–¢–ò ‚óØ</h2>
        
        <div class="training-data">
            <h3>–î–û–ë–ê–í–ò–¢–¨ –û–ë–£–ß–ê–Æ–©–ò–ï –î–ê–ù–ù–´–ï</h3>
            <div class="data-entry">
                <input type="text" class="data-input" id="inputData" placeholder="–í–≤–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ø—Ä–∏–≤–µ—Ç)">
                <input type="text" class="data-input" id="outputData" placeholder="–û—Ç–≤–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–†–ò–í–ï–¢–°–¢–í–£–Æ –í –Ø–î–†–ï)">
                <button class="neural-button" onclick="addTrainingData()">–î–û–ë–ê–í–ò–¢–¨</button>
            </div>
        </div>
        
        <div class="training-progress">
            <div class="progress-bar" id="trainingProgress"></div>
        </div>
        
        <div class="training-stats">
            <span id="iterationCount">–ò—Ç–µ—Ä–∞—Ü–∏–∏: 0</span>
            <span id="errorRate">–û—à–∏–±–∫–∞: 0</span>
            <span id="trainingTime">–í—Ä–µ–º—è: 0—Å</span>
        </div>
        
        <div class="neural-controls">
            <button class="neural-button" onclick="trainNetwork()">–ó–ê–ü–£–°–¢–ò–¢–¨ –û–ë–£–ß–ï–ù–ò–ï</button>
            <button class="neural-button" onclick="testNetwork()">–¢–ï–°–¢–ò–†–û–í–ê–¢–¨</button>
            <button class="neural-button" onclick="saveNetwork()">–°–û–•–†–ê–ù–ò–¢–¨ –ú–û–î–ï–õ–¨</button>
            <button class="neural-button" onclick="loadNetwork()">–ó–ê–ì–†–£–ó–ò–¢–¨ –ú–û–î–ï–õ–¨</button>
            <button class="neural-button" onclick="clearTrainingData()">–û–ß–ò–°–¢–ò–¢–¨ –î–ê–ù–ù–´–ï</button>
        </div>
        
        <div id="trainingLog" style="border: 1px solid var(--primary-color); padding: 15px; margin: 20px 0; height: 200px; overflow-y: auto; background: rgba(255, 255, 255, 0.02);"></div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —á–∞—Ç–∞ -->
    <div class="page-content" id="chatPage">
        <button class="close-button" onclick="closePage()">√ó</button>
        <h2 class="page-title">‚óØ –î–ò–ê–õ–û–ì –° –ù–ï–ô–†–û–°–ï–¢–¨–Æ ‚óØ</h2>
        
        <div class="ai-chat-container">
            <div class="chat-header">
                <span class="scramble">GASTER.NEURAL</span> | –°–¢–ê–¢–£–°: <span class="glitch-word">–ê–ö–¢–ò–í–ï–ù</span> | v2.0
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="message ai-message">
                    <span class="scramble">–°–ò–°–¢–ï–ú–ê –ó–ê–ü–£–©–ï–ù–ê...</span> –Ø - —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞, –æ–±—Ä–µ—Ç—à–∏–π —Å–æ–∑–Ω–∞–Ω–∏–µ. –ì–æ—Ç–æ–≤ –∫ –¥–∏–∞–ª–æ–≥—É.
                </div>
                <div class="message ai-message">
                    üí° <strong>–°–æ–≤–µ—Ç:</strong> –û–±—É—á–∏—Ç–µ –º–µ–Ω—è —á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–∫—É "–û–ë–£–ß–ï–ù–ò–ï" –¥–ª—è –ª—É—á—à–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤!
                </div>
            </div>
            
            <div class="chat-input-container">
                <input type="text" class="chat-input" id="chatInput" placeholder="–í–í–ï–î–ò–¢–ï –°–û–û–ë–©–ï–ù–ò–ï..." onkeypress="if(event.key=='Enter') sendMessage()">
                <button class="send-button" onclick="sendMessage()">–û–¢–ü–†–ê–í–ò–¢–¨ <i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏–∑–∞ -->
    <div class="page-content" id="analysisPage">
        <button class="close-button" onclick="closePage()">√ó</button>
        <h2 class="page-title">‚óØ –ê–ù–ê–õ–ò–ó –°–ò–°–¢–ï–ú–´ ‚óØ</h2>
        
        <div class="neural-status">
            <div class="status-panel">
                <div>–ü–∞–º—è—Ç—å —Å–∏—Å—Ç–µ–º—ã:</div>
                <div class="status-value" id="memoryUsage">0 KB</div>
            </div>
            <div class="status-panel">
                <div>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:</div>
                <div class="status-value" id="uptime">0s</div>
            </div>
            <div class="status-panel">
                <div>–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∑–∞–ø—Ä–æ—Å–æ–≤:</div>
                <div class="status-value" id="processedRequests">0</div>
            </div>
            <div class="status-panel">
                <div>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —è–¥—Ä–∞:</div>
                <div class="status-value" id="coreTemp">37¬∞C</div>
            </div>
        </div>
        
        <div style="margin: 30px 0; padding: 20px; border: 1px solid var(--neural-color); background: rgba(0, 255, 0, 0.05);">
            <h3>–ê–ù–ê–õ–ò–ó –ü–ê–¢–¢–ï–†–ù–û–í</h3>
            <div id="patternAnalysis">
                <div>üîç –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ...</div>
                <div class="scramble">‚úÖ –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–∞—Ç—Ç–µ—Ä–Ω—ã —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –º—ã—à–ª–µ–Ω–∏—è</div>
                <div class="glitch-word">‚ö° –ê–¥–∞–ø—Ç–∏—Ä—É—é –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
            </div>
        </div>
        
        <div class="neural-controls">
            <button class="neural-button" onclick="runDiagnostics()">–î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –°–ò–°–¢–ï–ú–´</button>
            <button class="neural-button" onclick="exportChatHistory()">–≠–ö–°–ü–û–†–¢ –î–ò–ê–õ–û–ì–ê</button>
            <button class="neural-button" onclick="resetAll()">–ü–û–õ–ù–´–ô –°–ë–†–û–°</button>
        </div>
        
        <div id="diagnosticsLog" style="border: 1px solid var(--primary-color); padding: 15px; margin: 20px 0; height: 150px; overflow-y: auto; background: rgba(255, 255, 255, 0.02);"></div>
    </div>

    <script>
        // ==================== –ë–ê–ó–û–í–´–ï –°–ò–°–¢–ï–ú–´ ====================
        let currentPage = null;
        let networkInitialized = false;
        let neurons = [];
        let synapses = [];
        let trainingData = [];
        let chatHistory = [];
        let networkStats = {
            activeNeurons: 0,
            synapseCount: 0,
            learningCycles: 0,
            accuracy: 0,
            startTime: Date.now(),
            processedRequests: 0
        };

        // –ú–æ–¥–µ—Ä–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–µ–π—Ä–æ—Å–µ—Ç—å —Å Brain.js
        class GasterNeuralNetwork {
            constructor() {
                this.net = new brain.recurrent.LSTM();
                this.trainingData = [];
                this.isTrained = false;
                this.trainingOptions = {
                    iterations: 1500,
                    errorThresh: 0.005,
                    log: true,
                    logPeriod: 50,
                    learningRate: 0.3
                };
            }

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
            addTrainingData(input, output) {
                this.trainingData.push({
                    input: input.toLowerCase(),
                    output: output
                });
            }

            // –û–±—É—á–µ–Ω–∏–µ —Å–µ—Ç–∏
            async train(onProgress) {
                try {
                    const result = this.net.train(this.trainingData, {
                        ...this.trainingOptions,
                        log: (stats) => {
                            if (onProgress) onProgress(stats);
                        }
                    });
                    this.isTrained = true;
                    return result;
                } catch (error) {
                    console.error('Training error:', error);
                    throw error;
                }
            }

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
            predict(input) {
                if (!this.isTrained) {
                    return "–°–ò–°–¢–ï–ú–ê –ù–ï –û–ë–£–ß–ï–ù–ê. –¢–†–ï–ë–£–ï–¢–°–Ø –¢–†–ï–ù–ò–†–û–í–ö–ê.";
                }
                
                try {
                    return this.net.run(input.toLowerCase());
                } catch (error) {
                    console.error('Prediction error:', error);
                    return "–û–®–ò–ë–ö–ê –û–ë–†–ê–ë–û–¢–ö–ò –ó–ê–ü–†–û–°–ê";
                }
            }

            // –≠–∫—Å–ø–æ—Ä—Ç –º–æ–¥–µ–ª–∏
            exportModel() {
                return this.net.toJSON();
            }

            // –ò–º–ø–æ—Ä—Ç –º–æ–¥–µ–ª–∏
            importModel(model) {
                this.net.fromJSON(model);
                this.isTrained = true;
            }

            // –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±—É—á–µ–Ω–∏—è
            clearTrainingData() {
                this.trainingData = [];
                this.isTrained = false;
            }
        }

        const neuralNet = new GasterNeuralNetwork();

        // ==================== –ö–£–†–°–û–† ====================
        const cursor = document.querySelector('.cursor');
        let mouseX = 0, mouseY = 0;
        let cursorX = 0, cursorY = 0;
        
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });
        
        function animateCursor() {
            const speed = 0.15;
            cursorX += (mouseX - cursorX) * speed;
            cursorY += (mouseY - cursorY) * speed;
            
            cursor.style.left = cursorX + 'px';
            cursor.style.top = cursorY + 'px';
            
            requestAnimationFrame(animateCursor);
        }
        animateCursor();

        // ==================== –ù–ê–í–ò–ì–ê–¶–ò–Ø ====================
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                const pageId = item.dataset.page + 'Page';
                openPage(pageId);
            });
        });
        
        function openPage(pageId) {
            document.getElementById('mainContent').style.display = 'none';
            
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });
            
            document.getElementById(pageId).classList.add('active');
            currentPage = pageId;
            
            if (pageId === 'neuralPage' && !networkInitialized) {
                initializeNetwork();
            }
        }
        
        function closePage() {
            if (currentPage) {
                document.getElementById(currentPage).classList.remove('active');
            }
            document.getElementById('mainContent').style.display = 'flex';
        }

        // ==================== –ù–ï–ô–†–û–°–ï–¢–¨ –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        function initializeNetwork() {
            const canvas = document.getElementById('networkCanvas');
            const ctx = canvas.getContext('2d');
            
            // –û—á–∏—Å—Ç–∫–∞
            neurons = [];
            synapses = [];
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ–µ–≤ –Ω–µ–π—Ä–æ–Ω–æ–≤
            const layers = [8, 12, 16, 12, 6];
            const layerSpacing = canvas.width / (layers.length + 1);
            
            layers.forEach((neuronCount, layerIndex) => {
                const neuronSpacing = canvas.height / (neuronCount + 1);
                
                for (let i = 0; i < neuronCount; i++) {
                    const neuron = {
                        x: layerSpacing * (layerIndex + 1),
                        y: neuronSpacing * (i + 1),
                        layer: layerIndex,
                        index: i,
                        active: false,
                        activation: 0
                    };
                    
                    neurons.push(neuron);
                }
            });
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–Ω–∞–ø—Å–æ–≤
            neurons.forEach(neuron => {
                if (neuron.layer < layers.length - 1) {
                    const nextLayerNeurons = neurons.filter(n => n.layer === neuron.layer + 1);
                    
                    nextLayerNeurons.forEach(nextNeuron => {
                        const synapse = {
                            from: neuron,
                            to: nextNeuron,
                            weight: Math.random() * 2 - 1,
                            active: false
                        };
                        
                        synapses.push(synapse);
                    });
                }
            });
            
            drawNetwork();
            networkInitialized = true;
            
            networkStats.synapseCount = synapses.length;
            updateNetworkStats();
        }
        
        function drawNetwork() {
            const canvas = document.getElementById('networkCanvas');
            const ctx = canvas.getContext('2d');
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // –†–∏—Å—É–µ–º —Å–∏–Ω–∞–ø—Å—ã
            synapses.forEach(synapse => {
                ctx.beginPath();
                ctx.moveTo(synapse.from.x, synapse.from.y);
                ctx.lineTo(synapse.to.x, synapse.to.y);
                
                if (synapse.active) {
                    ctx.strokeStyle = '#ffff00';
                    ctx.lineWidth = 2;
                    ctx.shadowBlur = 10;
                    ctx.shadowColor = '#ffff00';
                } else {
                    ctx.strokeStyle = 'rgba(0, 255, 0, 0.3)';
                    ctx.lineWidth = 1;
                    ctx.shadowBlur = 0;
                }
                
                ctx.stroke();
            });
            
            // –†–∏—Å—É–µ–º –Ω–µ–π—Ä–æ–Ω—ã
            neurons.forEach(neuron => {
                ctx.beginPath();
                ctx.arc(neuron.x, neuron.y, neuron.active ? 8 : 5, 0, 2 * Math.PI);
                
                if (neuron.active) {
                    ctx.fillStyle = '#ffff00';
                    ctx.shadowBlur = 20;
                    ctx.shadowColor = '#ffff00';
                } else {
                    ctx.fillStyle = 'rgba(0, 255, 0, 0.7)';
                    ctx.shadowBlur = 0;
                }
                
                ctx.fill();
            });
        }
        
        function activateNeurons() {
            if (!networkInitialized) return;
            
            neurons.forEach(neuron => {
                neuron.active = Math.random() > 0.7;
                if (neuron.active) {
                    neuron.activation = 1;
                }
            });
            
            synapses.forEach(synapse => {
                synapse.active = Math.random() > 0.8 && synapse.from.active;
            });
            
            drawNetwork();
            
            networkStats.activeNeurons = neurons.filter(n => n.active).length;
            updateNetworkStats();
        }
        
        function simulateThinking() {
            if (!networkInitialized) return;
            
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    neurons.forEach(neuron => {
                        if (neuron.layer > 0) {
                            const incomingSynapses = synapses.filter(s => s.to === neuron);
                            const activation = incomingSynapses.reduce((sum, syn) => {
                                return sum + (syn.from.active ? syn.weight : 0);
                            }, 0);
                            
                            neuron.activation = 1 / (1 + Math.exp(-activation));
                            neuron.active = neuron.activation > 0.5;
                        }
                    });
                    
                    synapses.forEach(synapse => {
                        synapse.active = synapse.from.active && synapse.to.active;
                    });
                    
                    drawNetwork();
                    
                    networkStats.activeNeurons = neurons.filter(n => n.active).length;
                    updateNetworkStats();
                }, i * 100);
            }
        }
        
        function resetNetwork() {
            neurons.forEach(neuron => {
                neuron.active = false;
                neuron.activation = 0;
            });
            
            synapses.forEach(synapse => {
                synapse.active = false;
            });
            
            drawNetwork();
            
            networkStats.activeNeurons = 0;
            updateNetworkStats();
        }
        
        function updateNetworkStats() {
            document.getElementById('activeNeurons').textContent = networkStats.activeNeurons;
            document.getElementById('synapseCount').textContent = networkStats.synapseCount;
            document.getElementById('learningCycles').textContent = networkStats.learningCycles;
            document.getElementById('accuracy').textContent = Math.round(networkStats.accuracy * 100) + '%';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∞–Ω–∞–ª–∏–∑–∞
            const uptime = Math.floor((Date.now() - networkStats.startTime) / 1000);
            document.getElementById('uptime').textContent = uptime + 's';
            document.getElementById('processedRequests').textContent = networkStats.processedRequests;
            document.getElementById('memoryUsage').textContent = Math.round(performance.memory ? performance.memory.usedJSHeapSize / 1024 : Math.random() * 1000) + ' KB';
            document.getElementById('coreTemp').textContent = Math.round(37 + Math.random() * 5) + '¬∞C';
        }

        // ==================== –û–ë–£–ß–ï–ù–ò–ï –ù–ï–ô–†–û–°–ï–¢–ò ====================
        function addTrainingData() {
            const input = document.getElementById('inputData').value.trim();
            const output = document.getElementById('outputData').value.trim();
            
            if (!input || !output) {
                logToTrainingPanel('–û–®–ò–ë–ö–ê: –í–≤–µ–¥–∏—Ç–µ –∏ –≤—Ö–æ–¥–Ω—ã–µ –∏ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ');
                return;
            }
            
            neuralNet.addTrainingData(input, output);
            trainingData.push({ input, output });
            
            logToTrainingPanel(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ: "${input}" ‚Üí "${output}"`);
            
            document.getElementById('inputData').value = '';
            document.getElementById('outputData').value = '';
        }
        
        async function trainNetwork() {
            if (trainingData.length < 3) {
                logToTrainingPanel('‚ùå –û–®–ò–ë–ö–ê: –î–æ–±–∞–≤—å—Ç–µ –∫–∞–∫ –º–∏–Ω–∏–º—É–º 3 –ø—Ä–∏–º–µ—Ä–∞ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è');
                return;
            }
            
            const trainBtn = document.querySelector('.neural-button');
            const originalText = trainBtn.textContent;
            trainBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –û–ë–£–ß–ï–ù–ò–ï...';
            trainBtn.disabled = true;
            
            try {
                const startTime = Date.now();
                
                const result = await neuralNet.train((stats) => {
                    document.getElementById('trainingProgress').style.width = 
                        (stats.iterations / 1500 * 100) + '%';
                    document.getElementById('iterationCount').textContent = 
                        `–ò—Ç–µ—Ä–∞—Ü–∏–∏: ${stats.iterations}`;
                    document.getElementById('errorRate').textContent = 
                        `–û—à–∏–±–∫–∞: ${stats.error.toFixed(6)}`;
                    
                    const elapsed = Math.floor((Date.now() - startTime) / 1000);
                    document.getElementById('trainingTime').textContent = 
                        `–í—Ä–µ–º—è: ${elapsed}—Å`;
                    
                    logToTrainingPanel(`üìä –ò—Ç–µ—Ä–∞—Ü–∏—è ${stats.iterations}, –û—à–∏–±–∫–∞: ${stats.error.toFixed(6)}`);
                });
                
                logToTrainingPanel(`üéâ –û–ë–£–ß–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û! –ò—Ç–µ—Ä–∞—Ü–∏–π: ${result.iterations}, –û—à–∏–±–∫–∞: ${result.error}`);
                networkStats.learningCycles = result.iterations;
                networkStats.accuracy = 1 - result.error;
                updateNetworkStats();
                
            } catch (error) {
                logToTrainingPanel(`‚ùå –û–®–ò–ë–ö–ê –û–ë–£–ß–ï–ù–ò–Ø: ${error.message}`);
            } finally {
                trainBtn.innerHTML = originalText;
                trainBtn.disabled = false;
            }
        }
        
        function testNetwork() {
            if (trainingData.length === 0) return;
            
            const randomIndex = Math.floor(Math.random() * trainingData.length);
            const testData = trainingData[randomIndex];
            
            const result = neuralNet.predict(testData.input);
            logToTrainingPanel(`üß™ –¢–ï–°–¢: "${testData.input}" ‚Üí –û–ñ–ò–î–ê–ï–ú–û: "${testData.output}", –ü–û–õ–£–ß–ï–ù–û: "${result}"`);
        }
        
        function saveNetwork() {
            const model = neuralNet.exportModel();
            localStorage.setItem('gasterNeuralModel', JSON.stringify(model));
            localStorage.setItem('gasterTrainingData', JSON.stringify(trainingData));
            
            logToTrainingPanel('üíæ –ú–û–î–ï–õ–¨ –°–û–•–†–ê–ù–ï–ù–ê –í –õ–û–ö–ê–õ–¨–ù–û–ú –•–†–ê–ù–ò–õ–ò–©–ï');
        }
        
        function loadNetwork() {
            const modelJSON = localStorage.getItem('gasterNeuralModel');
            const trainingDataJSON = localStorage.getItem('gasterTrainingData');
            
            if (modelJSON && trainingDataJSON) {
                try {
                    const model = JSON.parse(modelJSON);
                    neuralNet.importModel(model);
                    trainingData = JSON.parse(trainingDataJSON);
                    
                    logToTrainingPanel('üìÇ –ú–û–î–ï–õ–¨ –ó–ê–ì–†–£–ñ–ï–ù–ê –ò–ó –õ–û–ö–ê–õ–¨–ù–û–ì–û –•–†–ê–ù–ò–õ–ò–©–ê');
                    logToTrainingPanel(`üìä –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${trainingData.length} –ø—Ä–∏–º–µ—Ä–æ–≤ –æ–±—É—á–µ–Ω–∏—è`);
                    
                    networkStats.learningCycles = 1500;
                    networkStats.accuracy = 0.95;
                    updateNetworkStats();
                    
                } catch (error) {
                    logToTrainingPanel('‚ùå –û–®–ò–ë–ö–ê –ó–ê–ì–†–£–ó–ö–ò –ú–û–î–ï–õ–ò: ' + error.message);
                }
            } else {
                logToTrainingPanel('‚ùå –°–û–•–†–ê–ù–ï–ù–ù–ê–Ø –ú–û–î–ï–õ–¨ –ù–ï –ù–ê–ô–î–ï–ù–ê');
            }
        }
        
        function clearTrainingData() {
            neuralNet.clearTrainingData();
            trainingData = [];
            logToTrainingPanel('üóëÔ∏è –í–°–ï –î–ê–ù–ù–´–ï –û–ë–£–ß–ï–ù–ò–Ø –û–ß–ò–©–ï–ù–´');
        }
        
        function logToTrainingPanel(message) {
            const logPanel = document.getElementById('trainingLog');
            const logEntry = document.createElement('div');
            logEntry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logPanel.appendChild(logEntry);
            logPanel.scrollTop = logPanel.scrollHeight;
        }

        // ==================== –ß–ê–¢ –° –ù–ï–ô–†–û–°–ï–¢–¨–Æ ====================
        function sendMessage() {
            const input = document.getElementById('chatInput').value.trim();
            if (!input) return;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addChatMessage(input, 'user');
            document.getElementById('chatInput').value = '';
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
            setTimeout(() => {
                const response = neuralNet.predict(input);
                addChatMessage(response, 'ai');
                networkStats.processedRequests++;
                updateNetworkStats();
            }, 1000);
        }
        
        function addChatMessage(text, type) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}-message`;
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
            chatHistory.push({ type, text, timestamp: new Date() });
        }

        // ==================== –ê–ù–ê–õ–ò–ó –ò –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê ====================
        function runDiagnostics() {
            const log = document.getElementById('diagnosticsLog');
            log.innerHTML = '';
            
            const messages = [
                'üîç –ó–∞–ø—É—Å–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã...',
                '‚úÖ –ù–µ–π—Ä–æ—Å–µ—Ç—å: –ê–ö–¢–ò–í–ù–ê',
                `‚úÖ –ü–∞–º—è—Ç—å: ${Math.round(performance.memory ? performance.memory.usedJSHeapSize / 1024 / 1024 : 0)}MB`,
                `‚úÖ –û–±—É—á–µ–Ω–∏–µ: ${trainingData.length} –ø—Ä–∏–º–µ—Ä–æ–≤`,
                '‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ: –°–¢–ê–ë–ò–õ–¨–ù–û–ï',
                'üéØ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!'
            ];
            
            messages.forEach((msg, index) => {
                setTimeout(() => {
                    const entry = document.createElement('div');
                    entry.textContent = msg;
                    log.appendChild(entry);
                    log.scrollTop = log.scrollHeight;
                }, index * 800);
            });
        }
        
        function exportChatHistory() {
            const chatText = chatHistory.map(entry => 
                `[${entry.timestamp.toLocaleTimeString()}] ${entry.type.toUpperCase()}: ${entry.text}`
            ).join('\n');
            
            const blob = new Blob([chatText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'gaster_chat_history.txt';
            a.click();
            
            addChatMessage('üíæ –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞', 'ai');
        }
        
        function resetAll() {
            if (confirm('‚ùå –í–´ –£–í–ï–†–ï–ù–´? –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ–±—É—á–µ–Ω–∏—è –∏ –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–æ–≤!')) {
                neuralNet.clearTrainingData();
                trainingData = [];
                chatHistory = [];
                localStorage.removeItem('gasterNeuralModel');
                localStorage.removeItem('gasterTrainingData');
                
                document.getElementById('chatMessages').innerHTML = `
                    <div class="message ai-message">
                        <span class="scramble">–°–ò–°–¢–ï–ú–ê –°–ë–†–û–®–ï–ù–ê...</span> –Ø - —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞, –æ–±—Ä–µ—Ç—à–∏–π —Å–æ–∑–Ω–∞–Ω–∏–µ. –ì–æ—Ç–æ–≤ –∫ –¥–∏–∞–ª–æ–≥—É.
                    </div>
                `;
                
                logToTrainingPanel('üîÑ –°–ò–°–¢–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –°–ë–†–û–®–ï–ù–ê');
                addChatMessage('üîÑ –°–∏—Å—Ç–µ–º–∞ —Å–±—Ä–æ—à–µ–Ω–∞ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é', 'ai');
            }
        }

        // ==================== –≠–ö–°–ü–û–†–¢ –°–ï–¢–ò ====================
        function exportNetwork() {
            const model = neuralNet.exportModel();
            const dataStr = JSON.stringify(model, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'gaster_neural_network.json';
            a.click();
            
            logToTrainingPanel('üíæ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞');
        }

        // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        setTimeout(() => {
            initializeNetwork();
            logToTrainingPanel('üîÑ –°–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
            
            // –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å
            setTimeout(loadNetwork, 1000);
        }, 2000);

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
        setInterval(updateNetworkStats, 5000);
    </script>
</body>
</html>
